
---

## [`9251 번 : LCS`](https://www.acmicpc.net/problem/9251)

- 알고리즘 분류 : `DP`, `문자열`

---

## 🔖 문제 설명

- 문제에서 2 개의 문자열이 주어진다. 각 문자열이 가질 수 있는 모든 부분수열 중, 두 문자열에 속하면서 최대로 긴 부분수열의 길이를 출력하는 문제.

---

## 🛑 문제 제한 조건

- 시간 제한 : $\text{0.4 s}$

---

## 🍳 스스로 생각한 접근 방식

해당 문제를 `DP` 로 풀이해야 함을 짐작하여 2 차원 배열을 생성하였다.

배열의 `(i, j)` 원소를 `첫 번째, 두 번째 문자의 (i, j) 번 문자까지 생각하였을 때, 가질 수 있는 최장 부분수열의 길이` 로 생각하였으나, 배열 확장의 규칙 정립할 수 없어 다른이의 풀이를 참고하였다. [`[1]`](#1--백준-9251번---lcs---개발자가-상팔자s-tistory)

---

## ✅ 올바른 접근 방식 및 해결 방식

- 해당 문제의 핵심은 `주어지는 문자에 의해 최댓값이 변경되는 경우는, 주어진 문자와 본 문자가 같은 위치에 존재하는 경우밖에 없다` 는 것이었다.


`DP` 의 확장 규칙은 다음처럼 정의된다.
- a. 첫번째 문자열의 `i` 번째 문자와, 두번째 문자열의 `j` 번째 문자가 같으면, `DP[i - 1][j - 1] + 1` 로 초기화한다.
- b. 같지 않으면 `max(DP[i - 1][j], DP[i][j - 1])` 로 초기화한다.

두 문자열 `ACAYKP`, `CAPCAK` 에 대해 생각해보자.

|index 0|`A`|`C`|`A`|`Y`|`K`|`P`|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|`C`|0|1|   |   |   |   |
|`A`|1|1|   |   |   |   |
|`P`|1|1|   |   |   |   |
|`C`|1|   |   |   |   |   |
|`A`|1|   |   |   |   |   |
|`K`|1|   |   |   |   |   |

위 `DP` 의 상황은 `AC` 와 `CAPC` 문자열 간 `LCS` 를 생각하는 상황이다.

이제 여기서 `A` 와 `CAP` 문자열에 대해 생각하자. 두 문자열 간 `LCS` 는 이미 계산되어 `DP[3][1]` 에 기록되어 있다. 그런데 이제 두 문자열 뒷부분에 모두 `C` 문자가 추가되었다. 

그런데 이는 <ins>**동일한 문자가 가장 뒷 부분에 추가**</ins>된 것이므로, <ins>**반드시 `A` 와 `CAP` 간의 `LCS` 보다 클**</ins> 수밖에 없다.
`(문자 1 개가 추가되었으므로 A 와 CAP 간의 LCS 보다 1 커야 한다)`

이러한 특징 때문에 `a.` 규칙이 성립된다.

반면 `b.` 규칙은 `DP[i][j]` 의 정의를 `"첫 번째, 두 번째 문자의 (i, j) 번 문자까지 생각하였을 때의 LCS"` 로 하였고, `추가된 문자가 서로 같지 않기 때문` 에 성립한다.


|index 0|`A`|`C`|`A`|`Y`|`K`|`P`|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|`C`|0|1|   |   |   |   |
|`A`|1|1|   |   |   |   |
|`P`|1|1|   |   |   |   |
|`C`|1|2|   |   |   |   |
|`A`|1|   |   |   |   |   |
|`K`|1|   |   |   |   |   |

위 `DP` 의 상황은 `AC` 와 `CAPCA` 간 `LCS` 를 생각하는 상황이다.

현재 추가된 문자는 `A, C` `(CAPC-A, A-C)` 이다. 그런데 `A` 와 `C` 는 서로 같지 않으므로 <ins>**`a.` 에서 처럼 `LCS` 가 커질 수 없고, 이전의 값을 유지한다.**</ins>

`a.` 에서는 동일한 문자가 추가되었기 때문에 `LCS` 는 이전보다 커질 수 밖에 없지만, `b.` 는 아니라는 것이다.

때문에 `DP[i][j]` 의 정의에 따라 값이 초기화될 수밖에 없는데, `LCS` 가 증가하지 않으므로 이전 연산 중 최댓값으로 초기화해야 정의에 부합한다.

그런데 `AC` 와 `CAPCA` 간 `LCS` 의 이전 연산은 `AC, CAPC` `(DP[4][2])`, `A, CAPCA` `(DP[5][1])` 이므로, 이 둘 중 최댓값으로 초기화가 이루어진다.

이러한 규칙으로 `DP` 를 채울 수 있다.

---

## 🛠 자신의 풀이에서 개선할 부분

스스로 `DP` 를 채우는 규칙을 알아채지 못했고, 규칙이 성립하는 이유를 찾는데에도 시간이 걸렸다.

`DP` 유형을 매우 많이 풀어야 할 것 같다.

---

## Reference

- ##### [`[1] : [백준] 9251번 - LCS - 개발자가 상팔자's Tistory`](https://stonage.tistory.com/205)

---


